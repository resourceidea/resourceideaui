{
  "tables": [
    {
      "schema": "dbo",
      "table": "Company",
      "migrationOrder": 1,
      "columns": [
        { "name": "CompanyCode", "type": "varchar(50)" },
        { "name": "OrganizationName", "type": "varchar(256)" }
      ],
      "destination": {
        "schema": "dbo",
        "table": "Tenants",
        "columns": [
          {
            "name": "MigrationCompanyCode",
            "type": "varchar(50)",
            "isMigratable": true,
            "sourceColumn": "CompanyCode"
          },
          {
            "name": "Organization",
            "type": "nvarchar(500)",
            "isMigratable": true,
            "sourceColumn": "OrganizationName"
          },
          {
            "name": "TenantId",
            "type": "nvarchar(450)",
            "isMigratable": false
          },
          {
            "name": "Created",
            "type": "datetimeoffset",
            "isMigratable": false
          },
          {
            "name": "CreatedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "LastModified",
            "type": "datetimeoffset",
            "isMigratable": false
          },
          {
            "name": "LastModifiedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          { "name": "IsDeleted", "type": "bit", "isMigratable": false },
          {
            "name": "Deleted",
            "type": "datetimeoffset",
            "isMigratable": false
          },
          {
            "name": "DeletedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          }
        ]
      }
    },
    {
      "schema": "dbo",
      "table": "Client",
      "migrationOrder": 2,
      "columns": [
        { "name": "ClientId", "type": "varchar(40)" },
        { "name": "Name", "type": "varchar(200)" },
        { "name": "Address", "type": "varchar(100)" },
        { "name": "Industry", "type": "varchar(100)" },
        { "name": "CompanyCode", "type": "varchar(50)" },
        { "name": "Active", "type": "bit" }
      ],
      "destination": {
        "schema": "dbo",
        "table": "Clients",
        "columns": [
          { "name": "Id", "type": "nvarchar(450)", "isMigratable": false },
          {
            "name": "MigrationClientId",
            "type": "nvarchar(50)",
            "isMigratable": true,
            "sourceColumn": "ClientId"
          },
          {
            "name": "Name",
            "type": "nvarchar(500)",
            "isMigratable": true,
            "sourceColumn": "Name"
          },
          {
            "name": "Address_Building",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "Address_Street",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "Address"
          },
          {
            "name": "Address_City",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "MigrationCompanyCode",
            "type": "nvarchar(50)",
            "isMigratable": true,
            "sourceColumn": "CompanyCode"
          },
          {
            "name": "MigrationIndustry",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "Industry"
          },
          {
            "name": "TenantId",
            "type": "nvarchar(max)",
            "isMigratable": false,
            "lookupTable": "Tenants",
            "lookupColumn": "TenantId",
            "lookupCondition": "MigrationCompanyCode",
            "lookupSource": "CompanyCode"
          },
          {
            "name": "IsDeleted",
            "type": "bit",
            "isMigratable": false,
            "transform": "InvertActive",
            "sourceColumn": "Active"
          },
          {
            "name": "Deleted",
            "type": "datetimeoffset",
            "isMigratable": false,
            "transform": "ConditionalDeletedDate",
            "sourceColumn": "Active"
          },
          {
            "name": "DeletedBy",
            "type": "nvarchar(100)",
            "isMigratable": false,
            "transform": "ConditionalDeletedBy",
            "sourceColumn": "Active"
          },
          {
            "name": "Created",
            "type": "datetimeoffset",
            "isMigratable": false
          },
          {
            "name": "CreatedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "LastModified",
            "type": "datetimeoffset",
            "isMigratable": false
          },
          {
            "name": "LastModifiedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          }
        ]
      }
    },
    {
      "schema": "dbo",
      "table": "Job",
      "migrationOrder": 3,
      "columns": [
        { "name": "JobId", "type": "varchar(40)" },
        { "name": "Description", "type": "varchar(200)" },
        { "name": "ProjectId", "type": "varchar(40)" },
        { "name": "Color", "type": "varchar(10)" },
        { "name": "Status", "type": "varchar(20)" },
        { "name": "Manager", "type": "varchar(40)" },
        { "name": "Partner", "type": "varchar(40)" },
        { "name": "ProjectName", "type": "varchar(100)" },
        { "name": "ProjectClientId", "type": "varchar(40)" }
      ],
      "destination": {
        "schema": "dbo",
        "table": "Engagements",
        "columns": [
          { "name": "Id", "type": "nvarchar(450)", "isMigratable": false },
          {
            "name": "Description",
            "type": "nvarchar(200)",
            "isMigratable": true,
            "sourceColumn": "Description"
          },
          {
            "name": "ClientId",
            "type": "nvarchar(450)",
            "isMigratable": false,
            "lookupTable": "Clients",
            "lookupColumn": "Id",
            "lookupCondition": "MigrationClientId",
            "lookupSource": "ProjectClientId"
          },
          {
            "name": "EndDate",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "StartDate",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "EngagementStatus",
            "type": "nvarchar(50)",
            "isMigratable": true,
            "sourceColumn": "Status"
          },
          {
            "name": "TenantId",
            "type": "nvarchar(max)",
            "isMigratable": false,
            "lookupTable": "Clients",
            "lookupColumn": "TenantId",
            "lookupCondition": "MigrationClientId",
            "lookupSource": "ProjectClientId"
          },
          {
            "name": "Created",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "CreatedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "LastModified",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "LastModifiedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "IsDeleted",
            "type": "bit",
            "isMigratable": false
          },
          {
            "name": "Deleted",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "DeletedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "ManagerId",
            "type": "nvarchar(max)",
            "isMigratable": false
          },
          {
            "name": "PartnerId",
            "type": "nvarchar(max)",
            "isMigratable": false
          },
          {
            "name": "Title",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "ProjectName"
          },
          {
            "name": "Color",
            "type": "nvarchar(10)",
            "isMigratable": true,
            "sourceColumn": "Color"
          },
          {
            "name": "MigrationClientId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "ProjectClientId"
          },
          {
            "name": "MigrationJobId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "JobId"
          },
          {
            "name": "MigrationProjectId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "ProjectId"
          },
          {
            "name": "MigrationManager",
            "type": "nvarchar(40)",
            "isMigratable": true,
            "sourceColumn": "Manager"
          },
          {
            "name": "MigrationPartner",
            "type": "nvarchar(40)",
            "isMigratable": true,
            "sourceColumn": "Partner"
          }
        ]
      }
    },
    {
      "schema": "dbo",
      "table": "JobResource",
      "migrationOrder": 4,
      "columns": [
        { "name": "Id", "type": "int" },
        { "name": "JobId", "type": "int" },
        { "name": "ResourceId", "type": "varchar(40)" },
        { "name": "StartDateTime", "type": "datetime" },
        { "name": "EndDateTime", "type": "datetime" },
        { "name": "Details", "type": "varchar(100)" }
      ],
      "destination": {
        "schema": "dbo",
        "table": "WorkItems",
        "columns": [
          { "name": "Id", "type": "nvarchar(450)", "isMigratable": false },
          {
            "name": "Title",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "Details"
          },
          {
            "name": "Description",
            "type": "nvarchar(500)",
            "isMigratable": false
          },
          {
            "name": "EngagementId",
            "type": "nvarchar(450)",
            "isMigratable": false,
            "lookupTable": "Engagements",
            "lookupColumn": "Id",
            "lookupCondition": "MigrationJobId",
            "lookupSource": "JobId"
          },
          {
            "name": "PlannedStartDate",
            "type": "datetimeoffset(7)",
            "isMigratable": true,
            "sourceColumn": "StartDateTime"
          },
          {
            "name": "CompletedDate",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "PlannedEndDate",
            "type": "datetimeoffset(7)",
            "isMigratable": true,
            "sourceColumn": "EndDateTime"
          },
          {
            "name": "Status",
            "type": "nvarchar(50)",
            "isMigratable": false
          },
          {
            "name": "Priority",
            "type": "int",
            "isMigratable": false
          },
          {
            "name": "AssignedToId",
            "type": "nvarchar(450)",
            "isMigratable": false,
            "lookupTable": "Employees",
            "lookupColumn": "EmployeeId",
            "lookupCondition": "MigrationResourceId",
            "lookupSource": "ResourceId"
          },
          {
            "name": "TenantId",
            "type": "nvarchar(max)",
            "isMigratable": false,
            "lookupTable": "Engagements",
            "lookupColumn": "TenantId",
            "lookupCondition": "MigrationJobId",
            "lookupSource": "JobId"
          },
          {
            "name": "Created",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "CreatedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "LastModified",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "LastModifiedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "IsDeleted",
            "type": "bit",
            "isMigratable": false
          },
          {
            "name": "Deleted",
            "type": "datetimeoffset(7)",
            "isMigratable": false
          },
          {
            "name": "DeletedBy",
            "type": "nvarchar(100)",
            "isMigratable": false
          },
          {
            "name": "MigrationJobId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "JobId"
          },
          {
            "name": "MigrationJobResourceId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "Id"
          },
          {
            "name": "MigrationResourceId",
            "type": "nvarchar(100)",
            "isMigratable": true,
            "sourceColumn": "ResourceId"
          }
        ]
      }
    }
  ]
}
